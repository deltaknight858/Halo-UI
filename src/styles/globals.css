
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Eco Core Palette - CSS Variables */
  /* Eco Purple - Primary brand color */
  --eco-purple: 140 92 255;
  --eco-purple-light: 160 120 255;
  --eco-purple-dark: 120 72 220;
  
  /* Eco Cyan - Accent color */
  --eco-cyan: 0 216 255;
  --eco-cyan-light: 51 230 255;
  --eco-cyan-dark: 0 180 220;
  
  /* Eco Orange - Warm accent */
  --eco-orange: 255 140 50;
  --eco-orange-light: 255 165 80;
  --eco-orange-dark: 230 120 30;
  
  /* Eco Gold - Premium highlight */
  --eco-gold: 255 200 50;
  --eco-gold-light: 255 220 100;
  --eco-gold-dark: 230 170 20;

  /* Existing Halo variables */
  --halo-bg: 255 255 255;
  --halo-bg-elev: 248 248 252;
  --halo-fg: 12 14 20;
  --halo-muted: 115 120 140;
  --halo-primary: 0 216 255;
  --halo-secondary: 255 64 160;
  --halo-tertiary: 140 92 255;
  --halo-glass: 255 255 255 / 0.6;
  --halo-radius: 16px;
  --halo-blur: 18px;
  --halo-shadow: 0 10px 30px rgba(0,0,0,0.12);
  --halo-ring: 0 216 255;
  --halo-duration-fast: 140ms;
  --halo-duration: 220ms;
  --halo-ease: cubic-bezier(0.22, 1, 0.36, 1);
  
  /* Eco palette tokens */
  --eco-orange: 255 140 0;
  --eco-black: 0 0 0;
  --eco-bronze-start: 205 127 50;
  --eco-bronze-end: 139 69 19;
  --eco-silver-start: 192 192 192;
  --eco-silver-end: 128 128 128;
  --eco-gold-start: 255 215 0;
  --eco-gold-end: 218 165 32;
}

.dark {
  /* Eco Core Palette - Dark mode (same colors work well in dark) */
  --eco-purple: 140 92 255;
  --eco-purple-light: 160 120 255;
  --eco-purple-dark: 120 72 220;
  
  --eco-cyan: 0 216 255;
  --eco-cyan-light: 51 230 255;
  --eco-cyan-dark: 0 180 220;
  
  --eco-orange: 255 140 50;
  --eco-orange-light: 255 165 80;
  --eco-orange-dark: 230 120 30;
  
  --eco-gold: 255 200 50;
  --eco-gold-light: 255 220 100;
  --eco-gold-dark: 230 170 20;

  /* Existing Halo dark variables */
  --halo-bg: 4 6 12;
  --halo-bg-elev: 16 18 28;
  --halo-fg: 236 240 255;
  --halo-muted: 150 155 175;
  --halo-primary: 0 216 255;
  --halo-secondary: 255 64 160;
  --halo-tertiary: 140 92 255;
  --halo-glass: 12 14 20 / 0.4;
  --halo-shadow: 0 12px 40px rgba(0,0,0,0.45);
  --halo-ring: 140 92 255;
  
  /* Eco palette tokens for dark mode */
  --eco-orange: 255 140 0;
  --eco-black: 255 255 255;
  --eco-bronze-start: 205 127 50;
  --eco-bronze-end: 139 69 19;
  --eco-silver-start: 192 192 192;
  --eco-silver-end: 128 128 128;
  --eco-gold-start: 255 215 0;
  --eco-gold-end: 218 165 32;
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-[rgb(var(--halo-bg))] text-[rgb(var(--halo-fg))];
    font-family: 'Inter', sans-serif;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Orbitron', sans-serif;
  }

  /* Glassmorphism base utilities */
  .halo-glass {
    background: rgba(var(--halo-glass));
    -webkit-backdrop-filter: blur(var(--halo-blur));
    backdrop-filter: blur(var(--halo-blur));
    border: 1px solid rgba(var(--halo-fg), 0.1);
  }

  .halo-glass-strong {
    background: rgba(var(--halo-glass));
    -webkit-backdrop-filter: blur(calc(var(--halo-blur) * 1.5));
    backdrop-filter: blur(calc(var(--halo-blur) * 1.5));
    border: 1px solid rgba(var(--halo-fg), 0.15);
  }

  /* Neon glow utilities */
  .halo-glow-primary {
    box-shadow: 0 0 20px rgba(var(--halo-primary), 0.3), 
                inset 0 1px 0 rgba(var(--halo-primary), 0.1);
  }

  .halo-glow-secondary {
    box-shadow: 0 0 20px rgba(var(--halo-secondary), 0.3),
                inset 0 1px 0 rgba(var(--halo-secondary), 0.1);
  }

  .halo-glow-tertiary {
    box-shadow: 0 0 20px rgba(var(--halo-tertiary), 0.3),
                inset 0 1px 0 rgba(var(--halo-tertiary), 0.1);
  }

  /* Text glow effects */
  .halo-text-glow-primary {
    color: rgb(var(--halo-primary));
    text-shadow: 0 0 10px rgba(var(--halo-primary), 0.5),
                 0 0 20px rgba(var(--halo-primary), 0.3);
  }

  .halo-text-glow-secondary {
    color: rgb(var(--halo-secondary));
    text-shadow: 0 0 10px rgba(var(--halo-secondary), 0.5),
                 0 0 20px rgba(var(--halo-secondary), 0.3);
  }

  .halo-text-glow-tertiary {
    color: rgb(var(--halo-tertiary));
    text-shadow: 0 0 10px rgba(var(--halo-tertiary), 0.5),
                 0 0 20px rgba(var(--halo-tertiary), 0.3);
  }

  /* Animation presets */
  .halo-hover {
    transition: all var(--halo-duration) var(--halo-ease);
  }

  .halo-hover:hover {
    transform: scale(1.02);
  }

  .halo-press {
    transition: transform var(--halo-duration-fast) var(--halo-ease);
  }

  .halo-press:active {
    transform: scale(0.98);
  }

  .halo-reveal {
    animation: halo-reveal var(--halo-duration) var(--halo-ease) forwards;
    opacity: 0;
    transform: translateY(8px);
    filter: blur(4px);
  }

  @keyframes halo-reveal {
    to {
      opacity: 1;
      transform: translateY(0);
      filter: blur(0);
    }
  }

  /* Focus ring */
  .halo-focus-ring:focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px rgb(var(--halo-ring));
  }

  /* Scrollbar styling */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: rgba(var(--halo-muted), 0.1);
    border-radius: calc(var(--halo-radius) / 2);
  }

  ::-webkit-scrollbar-thumb {
    background: rgba(var(--halo-muted), 0.3);
    border-radius: calc(var(--halo-radius) / 2);
  }

  ::-webkit-scrollbar-thumb:hover {
    background: rgba(var(--halo-primary), 0.4);
  }
}

@layer utilities {
  /* NeonGlassIcon global classes (replaces CSS module) */
  .halo-icon {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 0.75rem; /* rounded-xl */
    transition: all 200ms ease-out;
  }

  .halo-icon--variant-filled {
    -webkit-backdrop-filter: blur(12px);
    backdrop-filter: blur(12px);
    background: linear-gradient(135deg, var(--halo-icon-bg, rgba(0,0,0,0.08)), rgba(0,0,0,0.1));
    border: 1px solid var(--halo-icon-border, rgba(255,255,255,0.2));
  }
  .halo-icon--variant-outline {
    -webkit-backdrop-filter: blur(12px);
    backdrop-filter: blur(12px);
    background: rgba(0,0,0,0.1);
    border: 2px solid var(--halo-icon-border, rgba(255,255,255,0.3));
  }
  .halo-icon--variant-glass {
    -webkit-backdrop-filter: blur(12px);
    backdrop-filter: blur(12px);
    background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(0,0,0,0.05));
    border: 1px solid var(--halo-icon-border, rgba(255,255,255,0.2));
  }
  .halo-icon--variant-minimal {
    background: transparent;
    border: none;
  }

  .halo-icon--tier-bronze {
    --halo-icon-glow: #FF8C42;
    --halo-icon-border: rgba(255, 140, 66, 0.4);
    --halo-icon-bg: rgba(255, 140, 66, 0.08);
    --halo-icon-accent: #FF6B1A;
  }
  .halo-icon--tier-silver {
    --halo-icon-glow: #B8BCC8;
    --halo-icon-border: rgba(184, 188, 200, 0.4);
    --halo-icon-bg: rgba(184, 188, 200, 0.08);
    --halo-icon-accent: #9CA3AF;
  }
  .halo-icon--tier-gold {
    --halo-icon-glow: #FFD700;
    --halo-icon-border: rgba(255, 215, 0, 0.5);
    --halo-icon-bg: rgba(255, 215, 0, 0.12);
    --halo-icon-accent: #FFC107;
  }

  .halo-icon--size-xs { --halo-icon-glow-size: 0 0 8px 1px; }
  .halo-icon--size-sm { --halo-icon-glow-size: 0 0 10px 1px; }
  .halo-icon--size-md { --halo-icon-glow-size: 0 0 12px 2px; }
  .halo-icon--size-lg { --halo-icon-glow-size: 0 0 16px 2px; }
  .halo-icon--size-xl { --halo-icon-glow-size: 0 0 20px 3px; }
  .halo-icon--size-2xl { --halo-icon-glow-size: 0 0 24px 3px; }

  .halo-icon__content {
    position: relative;
    z-index: 10;
    display: flex;
    align-items: center;
    justify-content: center;
    color: hsl(var(--foreground));
  }
  .halo-icon__content--accented { color: var(--halo-icon-accent); }

  .halo-icon__glow {
    position: absolute;
    inset: 0;
    border-radius: 0.75rem; /* rounded-xl */
    pointer-events: none;
    box-shadow: var(--halo-icon-glow-size) var(--halo-icon-glow);
  }

  .halo-icon__tier-badge {
    position: absolute;
    top: -0.25rem; /* -top-1 */
    right: -0.25rem; /* -right-1 */
    width: 0.75rem; /* w-3 */
    height: 0.75rem; /* h-3 */
    border-radius: 9999px;
    border-width: 2px;
    border-color: hsl(var(--background));
    box-shadow: 0 0 6px var(--halo-icon-glow);
    background-color: var(--halo-icon-glow);
  }

  .halo-icon__focus-ring {
    position: absolute;
    inset: 0;
    border-radius: 0.75rem;
    border-width: 2px;
    border-color: transparent;
  }
  /* Custom border radius using CSS variables */
  .rounded-halo {
    border-radius: var(--halo-radius);
  }

  .rounded-halo-sm {
    border-radius: calc(var(--halo-radius) * 0.5);
  }

  .rounded-halo-lg {
    border-radius: calc(var(--halo-radius) * 1.5);
  }

  /* Background patterns for depth */
  .halo-noise {
    background-image: 
      radial-gradient(circle at 20% 50%, rgba(var(--halo-primary), 0.02) 0%, transparent 50%),
      radial-gradient(circle at 80% 20%, rgba(var(--halo-secondary), 0.02) 0%, transparent 50%),
      radial-gradient(circle at 40% 80%, rgba(var(--halo-tertiary), 0.02) 0%, transparent 50%);
  }
}

@keyframes toast-slide-in-blur {
  from {
    opacity: 0;
    transform: translateY(-100%) scale(0.95);
    filter: blur(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
  }
}

@keyframes toast-fade-down {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateY(-20px) scale(0.95);
  }
}

.toast-enter {
  animation: toast-slide-in-blur 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

.toast-exit {
  animation: toast-fade-down 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}